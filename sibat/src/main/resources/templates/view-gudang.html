<!DOCTYPE html>
<html xmlns:th="http://thymeLeaf.org">
    <head>
       <title id="pageTitle">View Obat</title>
        <object th:include="fragments/fragment :: css" th:remove="tag"></object>
        <object th:include="fragments/fragment :: js" th:remove="tag"></object>
    </head>
    <body>
        <nav th:replace="fragments/fragment :: navbar"></nav>
        <div class="container-fluid">
        <br>
            <div><center><h2>Detail Gudang</h2></center></div>
            <center><table class="table table-bordered" style="width:50%">
				  <tr>
				    <th>Nama</th>
				    <td th:text=" ${gudang.nama}"></td>
				  </tr>
				  <tr>
				    <th>Alamat</th>
				    <td th:text="${gudang.alamat}"></td>
				  </tr>
				  <tr>
				    <th>Jumlah Obat</th>
				    <td th:text="${jumlahObat}"></td>
				  </tr>
		   </table>
		   <form th:action="@{/gudang/tambah-obat(idGudang=${gudang.idGudang})}" th:object="${chosenObat}" method="POST">
			   	<select th:field="*{idObat}">
				    <option th:each="obat : ${obatAvailable}" th:value="${obat.idObat}" th:text="${obat.nama}"></option>
			    </select>
		    <button type="submit" class="btn btn-primary">Tambah</button>
		    </form>
        <div class="container-fluid"></center>
            <br>
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header">Daftar Obat</div>
                        <div class="card-body">
			                <table class="table table-striped" id="myTable">
			                    <thead>
			                        <tr>
			                            <th>No</th>
			                            <th>Kode</th>
			                            <th>Nama</th>
			                            <th>Harga</th>
			                          
			                           
			                            
			                        </tr>
			                    </thead>
			                    <tbody>
			                        <tr th:each="obat, iterationStatus : *{obatList}" th:style="${iterationStatus.even} ? 'color: blue'">
			                            <td th:text="${iterationStatus.count}"></td>
			                            <td th:text="${obat.kode}"></td>
			                            <td th:text="${obat.nama}"></td>
			                            <td th:text="'Rp '+ ${#numbers.formatInteger(obat.harga, 1)}"></td>
			                        </tr>
			                    </tbody>
			                </table>
			        </div> 
    </body>
</html>